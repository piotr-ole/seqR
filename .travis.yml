# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: R
cache: packages
sudo: required

dist: bionic

warnings_are_errors: false

branches:
  only:
    - master

addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - gcc-9
      - g++-9
      - gfortran-8

env:
  global:
    - MAKEFLAGS="-j 2"
    - COMPILER=g++-9
    - CC=gcc-9
    - CXX=g++-9
    - CXX17=g++-9 -std=c++17 -fPIC

r_packages:
  - covr
  - devtools

after_success:
  - Rscript -e 'covr::codecov(quiet=FALSE)'
  